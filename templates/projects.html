{% extends "base.html" %}

{% block title %}Projects - Aashish Solipuram{% endblock %}
{% block meta_description %}Selected software projects by Aashish Solipuram showcased with descriptions and visuals pulled from a live project database.{% endblock %}

{% block content %}
<main id="main" class="container">
  <header class="page-header">
    <p class="page-kicker">Project Portfolio</p>
    <h1>Projects</h1>
    <p class="page-lead">
      Listings below are managed from the site database; add a new entry from the form page and it appears here instantly.
    </p>
  </header>

  <section aria-live="polite">
    {% if projects %}
    <div class="table-responsive">
      <table class="projects-table">
        <thead>
          <tr>
            <th scope="col">Image</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col">Links</th>
          </tr>
        </thead>
        <tbody>
          {% for project in projects %}
          <tr>
            <td data-label="Image">
              <img
                src="{{ url_for('static', filename='images/' ~ project['image_file_name']) }}"
                alt="{{ project['title'] }} thumbnail"
                loading="lazy"
                width="180"
              >
            </td>
            <td data-label="Title">
              <strong>{{ project['title'] }}</strong>
            </td>
            <td data-label="Description">
              <p>{{ project['description'] }}</p>
            </td>
            <td data-label="Links">
              {% if project['repo_url'] %}
              <a class="btn secondary" href="{{ project['repo_url'] }}" target="_blank" rel="noopener">Frontend repo</a>
              {% endif %}
              {% if project['demo_url'] %}
              <a class="btn" href="{{ project['demo_url'] }}" target="_blank" rel="noopener">Backend repo</a>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p>No projects are saved yet. Add your first project from the form page.</p>
    {% endif %}
  </section>
</main>
{% endblock %}
